# Fractal Voyager - MIND Language Project Configuration
#
# GPU-accelerated fractal visualization for web browsers.
# Compiles MIND source to WebGPU compute shaders via MLIR.
#
# Author: STARGA Inc. <noreply@star.ga>
# License: MIT

[package]
name = "fractal-voyager"
version = "0.1.0"
authors = ["STARGA Inc. <noreply@star.ga>"]
license = "MIT"
description = "GPU-accelerated fractal explorer with audio-reactive visualization"
repository = "https://github.com/star-ga/fractal-voyager"
keywords = ["fractal", "mandelbrot", "webgpu", "visualization", "mind", "tensor"]
edition = "2025"

[build]
# Entry point for the application
entry = "src/main.mind"

# Source files to compile (order matters for dependencies)
sources = [
    "src/complex.mind",
    "src/color.mind",
    "src/fractal.mind",
    "src/main.mind",
]

# Target platform
target = "webgpu"

# Optimization level (0-3)
opt-level = 3

# Enable debug info
debug = false

# Enable tensor shape verification at compile time
shape-checking = true

# Enable automatic differentiation (not needed for this project)
autodiff = false

[runtime]
# WebGPU backend configuration
backend = "webgpu"

# Workgroup size for compute shaders (16x16 threads per workgroup)
workgroup-size = [16, 16, 1]

# Max buffer size (bytes) - 256 MB
max-buffer-size = 268435456

# Power preference for GPU selection
power-preference = "high-performance"

# Enable async compute for overlapping CPU/GPU work
async-compute = true

[web]
# Output directory for web build
output-dir = "dist"

# HTML template
template = "web/index.html"

# Enable WASM streaming compilation
streaming = true

# Enable SharedArrayBuffer for threading
threads = true

# Canvas element ID for rendering
canvas-id = "fractal-canvas"

[features]
# Enable microphone audio input
audio = true

# Enable touch input for mobile
touch = true

# Enable gamepad input
gamepad = false

# Enable high-DPI canvas rendering
hidpi = true

[profile.release]
opt-level = 3
debug = false
lto = true
strip = true

[profile.dev]
opt-level = 1
debug = true
lto = false

[dependencies]
# Standard library modules (included with MIND)
tensor = { version = "1.0", features = ["gpu"] }
math = { version = "1.0" }
io = { version = "1.0" }
